{% extends 'base.html.twig' %}

{% block title %} {{ form_name }} {% endblock %}

{% block plugins %}
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.0/themes/prism.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.0/plugins/autoloader/prism-autoloader.min.js"></script>

    <!-- Line Number-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />

    <!-- Line HighLight-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.0/plugins/line-highlight/prism-line-highlight.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.0/plugins/line-highlight/prism-line-highlight.min.css" rel="stylesheet" />

    <!-- Unescaped Markup-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.0/plugins/unescaped-markup/prism-unescaped-markup.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.0/plugins/unescaped-markup/prism-unescaped-markup.min.css" rel="stylesheet" />
{% endblock %}

{% block body %}
    <h2>{{ form_name }}</h2>
    {% for diary in diaries %}
        <div class="diary-date text-center">
            {{ diary.dateString }} ({{ diary.dateYoubi }})
            <a class="btn btn-primary btn-sm" href="{{ path('edit_diary',
                {
                    date: diary.dateString
                }) }}">
                書く
            </a>
            <a class="btn btn-primary btn-sm" href="{{ path('view_diary',
                {
                    date: diary.dateString
                }) }}">
                見る
            </a>
            <hr>
        </div>
        <div class="diary-text">
            {{ diary.textHtml | raw }}
        </div>
        <div class="diary-footer">
        </div>
    {% endfor %}

    <style>
        .diary-date {
            font-size:1.3rem;
            font-weight:bold;
            margin-top:40px;
            margin-bottom:40px;
        }
        .diary-text {
            margin-bottom:40px;
            overflow-wrap: break-word;
        }
        .diary-footer {
            margin-bottom:20px;
        }
        .youtube-wrap {
            max-width: 480px;
        }
        .youtube {
            position: relative;
            width: 100%;
            padding-top: 56.25%;
            margin-top: 0.7rem;
            margin-bottom: 0.7rem;
        }
        .youtube iframe {
            position: absolute;
            top: 0;
            right: 0;
            width: 100% !important;
            height: 100% !important;
        }
    </style>
{% endblock %}
